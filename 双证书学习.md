## 双证书申请流程
**签名证书**
1，通过界面申请req，此时系统会根据提交的请求制作密钥对，将私钥保存到site文件夹。同时产生一个包含公钥和填写信息的req文件
2，将文件传递给CA，CA把用户信息和公钥制作成签名证书，并用自己的私钥给证书签名。
3，CA将签名证书传递给用户。
**加密证书**
1，CA生成密钥对，借用之前签名证书的用户信息和密钥对中的公钥生成加密证书。
2，将包含私钥的加密证书pfx文件传递给用户。
**用户上传**
1,用户将加密证书和签名证书上传到系统。
2,系统根据两个证书具有相同的DN，将其识别为双证书。
## 测试步骤
测试一：
1，将双证书的csr文件以及pem文件以及key文件备份到相关文件夹
2，删除证书
3，将签名证书的csr文件以及key文件从备份中恢复
4，在界面上传证书，查看情况。
测试结果：运行正常，证书管理界面展示正常，在WEB服务管理界面证书选择项目表现为双证书（正常)
测试二：
1，将双证书的csr文件以及pem文件以及key文件备份到相关文件夹
2，删除证书
3，在界面上传证书，查看情况。
测试结果：证书管理界面显示缺少对应的私钥文件。
测试三：
1，将双证书的csr文件以及pem文件以及key文件备份到相关文件夹
2，删除证书
3，将签名证书的csr文件以及key文件从备份中恢复
4，在界面上传证书，查看情况。
5，确认正常显示后，删除签名证书的key文件。
测试结果：证书管理界面无异常，在WEB服务管理界面证书选择项目表现为单证书。